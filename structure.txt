Architecture
----------------

Capstone/
├── backend/
│   ├── server.js              # Express setup + DB connection
│   ├── .env                   # Environment variables (not in repo)
│   ├── models/
│   │   └── report.js          # Mongoose schema (+ txHash field)
│   ├── routes/
│   │   └── reports.js         # REST API endpoints + blockchain call
│   └── utils/
│       ├── pinata.js          # Pinata IPFS upload utility
│       ├── blockchain.js      # Smart contract bridge (ethers.js)
│       └── contractABI.json   # Contract ABI for ethers.js
├── frontend/
│   ├── public/
│   │   └── index.html
│   └── src/
│       ├── App.js             # Main app component
│       ├── App.css            # Styling
│       ├── index.js           # React entry point
│       ├── components/
│       │   ├── reportForm.js  # Report submission form
│       │   └── reportList.js  # Report listing component
│       └── utils/
│           └── api.js         # Axios API calls
├── blockchain/
│   ├── contracts/
│   │   └── reportHash.sol    # Solidity smart contract
│   ├── scripts/
│   │   └── deploy.js          # Contract deployment script
│   ├── test/
│   │   └── reportHash.test.js     # Unit tests (7 tests)
│   ├── hardhat.config.js      # Hardhat configuration
│   └── package.json           # Blockchain dependencies
├── HOW_TO_RUN.txt             # Step-by-step run instructions
└── .gitignore


================================================================================================


Data Flow
--------------

User submits report via Frontend (React)
 └─ POST /reports → Backend (Express)
      └─ Upload image → IPFS/Pinata → get CID
      └─ Generate SHA-256 hash (reportId + description + location + category + CID)
      └─ Save report to MongoDB (metadata + CID + hash + status)
      └─ Send hash to Smart Contract via ethers.js → get txHash
      └─ Save txHash back to MongoDB
      └─ Return response (reportId + txHash + status)

Smart Contract (Hardhat / Polygon Amoy)
 └─ storeHash(complaintId, hash) → stores hash + reporter + timestamp
 └─ updateStatus(complaintId, status) [admin only]
 └─ verifyHash(complaintId, hash) → confirms tamper-proof
 └─ getComplaint(complaintId) → returns full complaint data

Backend (Node.js + Express + MongoDB)
 └─ Stores complaint data (description, location, imageCID, hash, txHash, status)
 └─ Calls smart contract after saving to MongoDB
 └─ Provides REST API for frontend to fetch & display complaints

IPFS / Pinata
 └─ Stores uploaded images
 └─ Returns CID → stored in MongoDB & referenced on-chain
